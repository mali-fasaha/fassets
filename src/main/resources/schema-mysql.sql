-- Autogenerated: do not edit this file

CREATE TABLE BATCH_JOB_INSTANCE  (
	JOB_INSTANCE_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT ,
	JOB_NAME VARCHAR(100) NOT NULL,
	JOB_KEY VARCHAR(32) NOT NULL,
	constraint JOB_INST_UN unique (JOB_NAME, JOB_KEY)
) ENGINE=InnoDB;

CREATE TABLE BATCH_JOB_EXECUTION  (
	JOB_EXECUTION_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT  ,
	JOB_INSTANCE_ID BIGINT NOT NULL,
	CREATE_TIME DATETIME NOT NULL,
	START_TIME DATETIME DEFAULT NULL ,
	END_TIME DATETIME DEFAULT NULL ,
	STATUS VARCHAR(10) ,
	EXIT_CODE VARCHAR(2500) ,
	EXIT_MESSAGE VARCHAR(2500) ,
	LAST_UPDATED DATETIME,
	JOB_CONFIGURATION_LOCATION VARCHAR(2500) NULL,
	constraint JOB_INST_EXEC_FK foreign key (JOB_INSTANCE_ID)
	references BATCH_JOB_INSTANCE(JOB_INSTANCE_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_JOB_EXECUTION_PARAMS  (
	JOB_EXECUTION_ID BIGINT NOT NULL ,
	TYPE_CD VARCHAR(6) NOT NULL ,
	KEY_NAME VARCHAR(100) NOT NULL ,
	STRING_VAL VARCHAR(250) ,
	DATE_VAL DATETIME DEFAULT NULL ,
	LONG_VAL BIGINT ,
	DOUBLE_VAL DOUBLE PRECISION ,
	IDENTIFYING CHAR(1) NOT NULL ,
	constraint JOB_EXEC_PARAMS_FK foreign key (JOB_EXECUTION_ID)
	references BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_STEP_EXECUTION  (
	STEP_EXECUTION_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT NOT NULL,
	STEP_NAME VARCHAR(100) NOT NULL,
	JOB_EXECUTION_ID BIGINT NOT NULL,
	START_TIME DATETIME NOT NULL ,
	END_TIME DATETIME DEFAULT NULL ,
	STATUS VARCHAR(10) ,
	COMMIT_COUNT BIGINT ,
	READ_COUNT BIGINT ,
	FILTER_COUNT BIGINT ,
	WRITE_COUNT BIGINT ,
	READ_SKIP_COUNT BIGINT ,
	WRITE_SKIP_COUNT BIGINT ,
	PROCESS_SKIP_COUNT BIGINT ,
	ROLLBACK_COUNT BIGINT ,
	EXIT_CODE VARCHAR(2500) ,
	EXIT_MESSAGE VARCHAR(2500) ,
	LAST_UPDATED DATETIME,
	constraint JOB_EXEC_STEP_FK foreign key (JOB_EXECUTION_ID)
	references BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_STEP_EXECUTION_CONTEXT  (
	STEP_EXECUTION_ID BIGINT NOT NULL PRIMARY KEY,
	SHORT_CONTEXT VARCHAR(2500) NOT NULL,
	SERIALIZED_CONTEXT TEXT ,
	constraint STEP_EXEC_CTX_FK foreign key (STEP_EXECUTION_ID)
	references BATCH_STEP_EXECUTION(STEP_EXECUTION_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_JOB_EXECUTION_CONTEXT  (
	JOB_EXECUTION_ID BIGINT NOT NULL PRIMARY KEY,
	SHORT_CONTEXT VARCHAR(2500) NOT NULL,
	SERIALIZED_CONTEXT TEXT ,
	constraint JOB_EXEC_CTX_FK foreign key (JOB_EXECUTION_ID)
	references BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_STEP_EXECUTION_SEQ (
	ID BIGINT NOT NULL,
	UNIQUE_KEY CHAR(1) NOT NULL,
	constraint UNIQUE_KEY_UN unique (UNIQUE_KEY)
) ENGINE=InnoDB;

INSERT INTO BATCH_STEP_EXECUTION_SEQ (ID, UNIQUE_KEY) select * from (select 0 as ID, '0' as UNIQUE_KEY) as tmp where not exists(select * from BATCH_STEP_EXECUTION_SEQ);

CREATE TABLE BATCH_JOB_EXECUTION_SEQ (
	ID BIGINT NOT NULL,
	UNIQUE_KEY CHAR(1) NOT NULL,
	constraint UNIQUE_KEY_UN unique (UNIQUE_KEY)
) ENGINE=InnoDB;

INSERT INTO BATCH_JOB_EXECUTION_SEQ (ID, UNIQUE_KEY) select * from (select 0 as ID, '0' as UNIQUE_KEY) as tmp where not exists(select * from BATCH_JOB_EXECUTION_SEQ);

CREATE TABLE BATCH_JOB_SEQ (
	ID BIGINT NOT NULL,
	UNIQUE_KEY CHAR(1) NOT NULL,
	constraint UNIQUE_KEY_UN unique (UNIQUE_KEY)
) ENGINE=InnoDB;

INSERT INTO BATCH_JOB_SEQ (ID, UNIQUE_KEY) select * from (select 0 as ID, '0' as UNIQUE_KEY) as tmp where not exists(select * from BATCH_JOB_SEQ);

CREATE TABLE `category_configuration` (
  `id` int(11) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `created_by` varchar(255) DEFAULT NULL,
  `last_modified_by` varchar(255) DEFAULT NULL,
  `modified_at` datetime DEFAULT NULL,
  `version` int(11) NOT NULL,
  `category_ledger_id` varchar(255) NOT NULL,
  `deprecant` varchar(255) NOT NULL,
  `depreciation_logic` varchar(255) NOT NULL,
  `depreciation_rate` double NOT NULL,
  `designation` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `category_configuration`
--

INSERT INTO `category_configuration` (`id`, `created_at`, `created_by`, `last_modified_by`, `modified_at`, `version`, `category_ledger_id`, `deprecant`, `depreciation_logic`, `depreciation_rate`, `designation`) VALUES
(1, '2018-01-29 12:54:09', 'edwin.njeru', 'edwin.njeru', '2018-01-29 12:54:09', 0, '0000152001', 'NETBOOKVALUE', 'DECLININGBALANCE', 30, 'COMPUTERS'),
(2, '2018-01-29 13:12:52', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:12:52', 0, '0000155001', 'PURCHASECOST', 'STRAIGHTLINE', 10, 'COMPUTER SOFTWARE'),
(3, '2018-01-29 13:13:21', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:13:21', 0, '0000156001', 'NETBOOKVALUE', 'DECLININGBALANCE', 30, 'ELECTRONIC EQUIPMENT'),
(4, '2018-01-29 13:13:48', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:13:48', 0, '0000153001', 'NETBOOKVALUE', 'DECLININGBALANCE', 12.5, 'FURNITURE & FITTINGS'),
(5, '2018-01-29 13:14:15', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:14:15', 0, '0000151001', 'PURCHASECOST', 'STRAIGHTLINE', 20, 'MOTOR VEHICLES'),
(6, '2018-01-29 13:14:50', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:14:50', 0, '0000154001', 'PURCHASECOST', 'STRAIGHTLINE', 12.5, 'OFFICE RENOVATION'),
(7, '2018-01-29 13:16:48', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:16:48', 0, '0000149001', 'PURCHASECOST', 'STRAIGHTLINE', 2, 'OFFICE SUITE NO. 1 (GROUND FLR)'),
(8, '2018-01-29 13:17:00', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:17:00', 0, '0000149002', 'PURCHASECOST', 'STRAIGHTLINE', 2, 'OFFICE SUITE NO. 2 (MEZZANINE FLR)'),
(9, '2018-01-29 13:17:12', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:17:12', 0, '0000149003', 'PURCHASECOST', 'STRAIGHTLINE', 2, 'OFFICE SUITE NO. 5 (3RD FLOOR)'),
(10, '2018-01-29 13:17:25', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:17:25', 0, '0000149004', 'PURCHASECOST', 'STRAIGHTLINE', 2, 'OFFICE SUITE NO. 6 (4TH FLOOR)'),
(11, '2018-01-29 13:17:43', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:17:43', 0, '0000149005', 'PURCHASECOST', 'STRAIGHTLINE', 2, 'OFFICE SUITE NO. 7 (5TH FLLOR)'),
(12, '2018-01-29 13:17:54', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:17:54', 0, '0000149007', 'PURCHASECOST', 'STRAIGHTLINE', 2, 'OFFICE SUITE NO. 8 (6TH FLLOR)'),
(13, '2018-01-29 13:18:05', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:18:05', 0, '0000149006', 'PURCHASECOST', 'STRAIGHTLINE', 2, 'OFFICE SUITE NO. 4 (2ND FLLOR)'),
(14, '2018-01-29 13:18:17', 'edwin.njeru', 'edwin.njeru', '2018-01-29 13:18:17', 0, '0000149008', 'PURCHASECOST', 'STRAIGHTLINE', 2, 'OFFICE SUITE NO. 3 (1ST FLLOR)');